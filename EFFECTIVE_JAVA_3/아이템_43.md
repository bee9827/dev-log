# 아이템_43.md

> 람다보다는 매서드 참조를 사용하라

람다가 익명 클래스보다 나은 점 중에서 가장 큰 특징은 간결함이다.

메서드 참조를 이용하는것이 람다보다 나은점이 몇가지 있다.
장점은 다음과 같다.
1. 보다 더 간결하게 만들 수 있다.
2. 메서드는 이름을 가질 수 있다.
3. 메서드로 뺄 경우 단위에 맞는 추상화가 가능하다.

아래 함수는 Map의 merge 함수이다.  
if(key == null) -> value = 1  
else value += 1;
와 같은 기능을 한다.

```java
map.merge(key, 1,(count, incr) ->count + incr);
```

위 코드를 매서드 참조를 사용하면 보다 간결하게 바꿀 수 있다.

```java
map.merge(key, 1,Integer::sum);
```

하지만 이런 매서드 참조가 더 안좋게 보이는 경우도 있다. 주로 람다가 같은 클래스에 있을 때 그렇다. -> 책에서는 이렇게 말하지만 **`this`를 사용**하면 더 간결해진다.  
GoshThisClassNameIsHumongous 클래스 의 action을 참조해야 한다고 가정해보자


```java
//매서드 참조
service.execute(GoshThisClassNameIsHumongous::action);
//람다
service.execute(() -> action());
//매서드참조 (this)
service.execute(this::action);
```

아래는 매서드 참조를 정리한 표이다.

| 매서드 참조 유형  | 예시                     | 람다                                                 
|------------|------------------------|----------------------------------------------------|
| 정적         | Integer::parseInt      | str -> Integer.parseInt(str)                       |
| 한정적(인스턴스)  | Instant.now()::isAfter | Instant then = Instant.now(); t -> then.isAfter(t) |
| 비한정적(인스턴스) | String::toLowerCase    | str -> str.toLowerCase()                           |
| 클래스 생성자    | TreeMap<K,V>::new      | () -> new TreeMap<K,V>()                           |
| 배열 생성자     | int[]::new             | len -> new int[len]                                |

